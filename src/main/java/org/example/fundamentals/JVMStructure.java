package org.example.fundamentals;

/**
 * –°—Ç—Ä—É–∫—Ç—É—Ä–∞ JVM –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é
 * --------------------------------
 * 
 * üéØ –¶–µ–ª—å: 
 * –ü–æ–Ω—è—Ç—å –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç JVM –∏ –∫–∞–∫ –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω–∞ –ø–∞–º—è—Ç—å –≤ Java
 * 
 * üìö –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞–º—è—Ç–∏ JVM:
 * 
 * 1. Heap (–ö—É—á–∞)
 *    - –û–±–ª–∞—Å—Ç—å –ø–∞–º—è—Ç–∏ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤
 *    - –î–µ–ª–∏—Ç—Å—è –Ω–∞ Young Generation –∏ Old Generation
 *    - –ó–¥–µ—Å—å —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–±–æ—Ä—â–∏–∫ –º—É—Å–æ—Ä–∞ (Garbage Collector)
 * 
 * 2. Stack (–°—Ç–µ–∫)
 *    - –•—Ä–∞–Ω–∏—Ç –ª–æ–∫–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏ –≤—ã–∑–æ–≤—ã –º–µ—Ç–æ–¥–æ–≤
 *    - –†–∞–±–æ—Ç–∞–µ—Ç –ø–æ –ø—Ä–∏–Ω—Ü–∏–ø—É LIFO (Last In, First Out)
 *    - –ö–∞–∂–¥—ã–π –ø–æ—Ç–æ–∫ –∏–º–µ–µ—Ç —Å–≤–æ–π —Å—Ç–µ–∫
 * 
 * 3. Metaspace (–¥–æ Java 8 - PermGen)
 *    - –•—Ä–∞–Ω–∏—Ç –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –∫–ª–∞—Å—Å–æ–≤
 *    - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –º–µ—Ç–æ–¥–∞—Ö –∏ –ø–æ–ª—è—Ö
 */
public class JVMStructure {
    
    // –ü—Ä–∏–º–µ—Ä –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ —Ä–∞–±–æ—Ç—ã —Å–æ —Å—Ç–µ–∫–æ–º
    private static void methodA() {
        System.out.println("–ú–µ—Ç–æ–¥ A –Ω–∞—á–∞–ª –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ");
        methodB();
        System.out.println("–ú–µ—Ç–æ–¥ A –∑–∞–≤–µ—Ä—à–∏–ª –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ");
    }
    
    private static void methodB() {
        System.out.println("–ú–µ—Ç–æ–¥ B –Ω–∞—á–∞–ª –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ");
        methodC();
        System.out.println("–ú–µ—Ç–æ–¥ B –∑–∞–≤–µ—Ä—à–∏–ª –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ");
    }
    
    private static void methodC() {
        System.out.println("–ú–µ—Ç–æ–¥ C –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è");
    }
    
    // –ü—Ä–∏–º–µ—Ä –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ —Ä–∞–±–æ—Ç—ã —Å –∫—É—á–µ–π
    static class Person {
        String name;
        int age;
        
        Person(String name, int age) {
            this.name = name;
            this.age = age;
        }
    }
    
    public static void main(String[] args) {
        System.out.println("=== –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —Ä–∞–±–æ—Ç—ã —Å—Ç–µ–∫–∞ ===");
        System.out.println("–í—ã–∑–æ–≤ –º–µ—Ç–æ–¥–æ–≤ (–æ–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ –ø–æ—Ä—è–¥–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è):");
        methodA();
        
        System.out.println("\n=== –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —Ä–∞–±–æ—Ç—ã –∫—É—á–∏ ===");
        // –°–æ–∑–¥–∞–µ–º –æ–±—ä–µ–∫—Ç—ã –≤ –∫—É—á–µ
        Person person1 = new Person("–ê–Ω–Ω–∞", 25);
        Person person2 = new Person("–ü–µ—Ç—Ä", 30);
        
        System.out.println("–°–æ–∑–¥–∞–Ω—ã –æ–±—ä–µ–∫—Ç—ã –≤ –∫—É—á–µ:");
        System.out.println("Person 1: " + person1.name + ", " + person1.age + " –ª–µ—Ç");
        System.out.println("Person 2: " + person2.name + ", " + person2.age + " –ª–µ—Ç");
        
        // –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —Ä–∞–±–æ—Ç—ã —Å–±–æ—Ä—â–∏–∫–∞ –º—É—Å–æ—Ä–∞
        System.out.println("\n–û—Å–≤–æ–±–æ–∂–¥–∞–µ–º —Å—Å—ã–ª–∫–∏ –Ω–∞ –æ–±—ä–µ–∫—Ç—ã...");
        person1 = null;
        person2 = null;
        System.out.println("–û–±—ä–µ–∫—Ç—ã –≥–æ—Ç–æ–≤—ã –∫ —É–¥–∞–ª–µ–Ω–∏—é —Å–±–æ—Ä—â–∏–∫–æ–º –º—É—Å–æ—Ä–∞");
        
        // –ó–∞–ø—Ä–∞—à–∏–≤–∞–µ–º —Å–±–æ—Ä–∫—É –º—É—Å–æ—Ä–∞ (–≤ —Ä–µ–∞–ª—å–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö —Ç–∞–∫ –¥–µ–ª–∞—Ç—å –Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è!)
        System.gc();
    }
} 